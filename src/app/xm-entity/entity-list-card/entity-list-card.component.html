<mat-card [ngSwitch]="list?.length === 1" class="card p-0 has-refresh-button">
  <!-- start header for the multi entities types -->
  <div *ngSwitchCase="false" class="card-header card-header-tabs card-header-primary">
    <ul [class.xm-disabled]="showLoader" class="nav nav-tabs" data-tabs="tabs">
      <li *ngFor="let item of list; index as i; first as isFirst" class="nav-item">
        <a (click)="setActiveTab(i)"
           [class.active]="i == activeItemId"
           class="nav-link"
           data-toggle="tab"
           href="{{'#wdt-entity-group-' + i}}">
          <i class="material-icons">{{ item.xmEntitySpec?.icon ? item.xmEntitySpec?.icon : 'view_list'}}</i>
          {{item.name | translate}}
        </a>
      </li>
    </ul>
  </div>
  <!-- end header for the multi entities types  -->

  <!-- start header for the one entity type  -->
  <div *ngSwitchCase="true" class="card-header card-header-icon card-header-primary">
    <div class="card-icon">
      <i class="material-icons">{{list[0]?.xmEntitySpec?.icon ? list[0]?.xmEntitySpec?.icon : 'search'}}</i>
    </div>
    <h4 *ngSwitchCase="true" class="card-title">{{list[0].name | translate}}</h4>
  </div>
  <!-- end header for the one entity type  -->

  <xm-loader [showLoader]="showLoader"></xm-loader>
  <div class="card-body">
    <div [class.xm-disabled]="showLoader" class="tab-content">
      <div *ngFor="let item of list; index as i; first as isFirst"
           [class.active]="i == activeItemId"
           class="tab-pane"
           id="{{'wdt-entity-group-' + i}}">


        <ng-container [class.hidden]="!item.entities">
          <xm-entity-list [item]="item"
                          [spec]="spec"
                          [options]="options"
                          [pageSize]="entitiesPerPage"
                          [reverse]="reverse"
                          [predicate]="predicate"></xm-entity-list>
        </ng-container>
      </div>
    </div>
  </div>
</mat-card>
