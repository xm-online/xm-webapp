<mat-card *ngIf="jsfAttributes?.schema" class="card">
  <div *ngIf="jsfAttributes?.entity?.formHeaderTitle &&
              jsfAttributes?.entity?.formHeaderIconName; then
              hasHeaderConfig else
              hasNotHeaderConfig;">
  </div>

  <div class="card-body min-height">
    <xm-loader [showLoader]="showLoader"></xm-loader>
    <json-schema-form (formLayout)="jsfAttributes.formLayout"
                      (onSubmit)="onSubmitForm($event)"
                      *ngIf="jsfAttributes?.schema"
                      [data]="jsfAttributes.data"
                      [form]="jsfAttributes.form | i18nJsf"
                      [framework]="'material-design'"
                      [layout]="jsfAttributes.layout | i18nJsf"
                      [options]="jsfAttributes.options | i18nJsf"
                      [schema]="jsfAttributes.schema"
                      [widgets]="jsfAttributes.widgets">
    </json-schema-form>
  </div>
</mat-card>

<ng-template #hasHeaderConfig>
  <div class="card-header card-header-icon card-header-primary">
    <div class="card-icon">
      <mat-icon>{{jsfAttributes.entity.formHeaderIconName}}</mat-icon>
    </div>
    <h4 class="card-title">{{jsfAttributes.entity.formHeaderTitle | translate}}</h4>
  </div>
</ng-template>
<ng-template #hasNotHeaderConfig>
  <div class="card-header card-header-icon card-header-primary">
    <div class="card-icon">
      <mat-icon>info_outline</mat-icon>
    </div>
    <h4 class="card-title">{{'xm-entity.entity-data-card.title'|translate}}</h4>
  </div>
</ng-template>
