<div [formGroup]="form">
  <button mat-icon-button [matMenuTriggerFor]="menu">
    <mat-icon>tune</mat-icon>
  </button>
  <mat-menu #menu="matMenu" (closed)="onClosedMenu()">
    <mat-selection-list formControlName="columns">
      <mat-list-option
        checkboxPosition='before'
        [selected]="isSelectedAll"
        (click)="$event.stopPropagation(); toggleSelectAll()">
        {{ TRS.selectAll | translate }}
      </mat-list-option>
      @for (column of columns; track column.name) {
        @if (!column.storageColumn) {
          <mat-list-option
            [value]="column"
            [style.display]="column.isHideLock ? 'none': 'invalid'"
            [selected]="!column.hidden"
            checkboxPosition='before'
            (click)="$event.stopPropagation(); setSelectedAll()"
          >{{ column.title | translate }}
          </mat-list-option>
        }
      }
    </mat-selection-list>
  </mat-menu>
</div>


