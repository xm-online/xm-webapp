<ul class="xm-breadcrumb-container">
  <li *ngFor="let breadcrumb of (breadcrumbs$ | async); let last = last; let first = first"
      [ngClass]="{ 'xm-breadcrumb-item-active': last }"
      class="xm-breadcrumb-item">
    <mat-icon *ngIf="!first" class="align-middle">chevron_right</mat-icon>

    <a *ngIf="!last; else pageTitle"
       [routerLink]="breadcrumb.url"
       class="xm-breadcrumb-item-link"
       mat-button>{{ breadcrumb.label | translate }}
    </a>

    <ng-template #pageTitle>
      <xm-dynamic-presentation-layout
        *ngIf="config?.lastSegmentLayout; else text"
        [layouts]="config?.lastSegmentLayout"></xm-dynamic-presentation-layout>

      <ng-template #text><h5 class="mb-0 d-inline mx-3">{{ breadcrumb.label | translate }}</h5></ng-template>
    </ng-template>
  </li>
</ul>
